
# Example spec to load a CSV of evaluation results into the 'observations' table.
# Adjust 'table', 'columns', and 'key' (if using upsert) to your schema.
table: observations
mode: insert   # or: upsert
key: ["name"]  # required if mode: upsert and a UNIQUE/PK exists on these columns
columns:
  # DB column : rules mapping
  name:        { from: "run_name", transform: "strip" }
  tool_name:   { const: "eval-harness" }
  created_at:  { from: "timestamp", transform: "strip" }
  dataset_id:  { from: "dataset_id", as_type: "int" }
  project_id:  { from: "project_id", as_type: "int" }
  notes:       { expr: "f\"seed={row['seed']} | prompt={row['prompt_name']}\"" }
  accuracy:    { from: "acc", as_type: "float" }
  f1_score:    { from: "f1", as_type: "float" }
